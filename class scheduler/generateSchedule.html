<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>Schedule Builder | Generate Schedule</title>

</head>

<body>
    <div class="topnav">
        <a href="#html1" style="margin-top: 0px;">
            <i class="fa fa-bell-o" style="font-size: 25px;"></i>
        </a>
        <div class="account">
            <a href="account.html" class="accountIcon">
                <i class="fa fa-user" style="font-size: 50px;"></i>
            </a>
            <div class="accountDropdownContent">
                <a href="account.html">
                    <i class="fa fa-user"></i>
                    View Account
                </a>
                <a href="#">Link 2</a>
                <a href="#">
                    <i class="fa fa-sign-out"></i>
                    Log Out
                </a>
            </div>
        </div>


    </div>


    <div class="sidenav">
        <a href="generateSchedule.html">
            <img src="logo.png">
        </a>
        <a href="generateSchedule.html" class="currentPage">
            <i class="fa fa-table"></i>
            Create Schedule
        </a>
        <a href="uploadCSV.html">
            <i class="fa fa-upload"></i>
            Upload CSV
        </a>
        <a href="settings.html">
            <i class="fa fa-gear"></i>
            Settings
        </a>
        <a href="faq.html">
            <i class="fa fa-question-circle"></i>
            FAQs
        </a>
        <a href="aboutUs.html">
            <i class="fa fa-group"></i>
            About Us
        </a>
    </div>


    <div class="main">
        <div class="generateScheduleHeader">
            <button class="generateButton" type="submit" id="getData">Generate</button>
            <div class="generateEditors">
                <i class="fa fa-download "></i>
            </div>
        </div>

        <div class="scheduleTable">
            <table id="generateScheduleTable">
                <tr class="scheduleHeader">
                    <td style="background-color: #0078c8; border: 0px;"></td>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        A <br>
                        8:00 - 9:20
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        B <br>
                        9:40 - 11:00
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        C <br>
                        11:20 - 12:40
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        D <br>
                        1:00 - 2:20
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        E <br>
                        2:40 - 4:00
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        F <br>
                        4:20 - 5:40
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th class="scheduleTime">
                        G <br>
                        6:00 - 7:20
                    </th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>

    </div>

</body>

</html>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";

    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyDpRnVPxpDY8qXPbe9GPZGOgfPwlSGiTAk",
        authDomain: "coursescheduler499.firebaseapp.com",
        databaseURL: "https://coursescheduler499-default-rtdb.firebaseio.com",
        projectId: "coursescheduler499",
        storageBucket: "coursescheduler499.appspot.com",
        messagingSenderId: "499198271274",
        appId: "1:499198271274:web:3aa01385d66f9759060853",
        measurementId: "G-8GZ9VBXDJ1"
    };




    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const database = getDatabase(app);

    getData.addEventListener('click', (e) => {

        // $('#generateScheduleTable td').remove();
        const dbRef = ref(database, 'Department Courses/CS');
        var courseData = {};
        courseData["test"] = 1;


        onValue(dbRef, (snapshot) => {
            snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                // ...
                courseData[childKey] = childData;
            });
        }, {
            onlyOnce: true
        });

        console.log("hello", courseData);

    });


</script>